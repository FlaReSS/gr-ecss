<?xml version="1.0"?>
<block>
  <name>pll</name>
  <key>ecss_pll</key>
  <category>[ecss]</category>
  <import>import ecss</import>
  <make>ecss.pll($samp_rate, $order, $N, $Coeff1_2, $Coeff2_2, $Coeff4_2, $Coeff1_3, $Coeff2_3, $Coeff3_3, $max_freq, $min_freq)</make>
  <callback>set_order($order)</callback>
  <callback>set_Coeff1_2($Coeff1_2)</callback>
  <callback>set_Coeff2_2($Coeff2_2)</callback>
  <callback>set_Coeff4_2($Coeff4_2)</callback>
  <callback>set_Coeff1_3($Coeff1_3)</callback>
  <callback>set_Coeff2_3($Coeff_3)</callback>
  <callback>set_Coeff3_3($Coeff3_3)</callback>
  <callback>set_max_freq($max_freq)</callback>
  <callback>set_min_freq($min_freq)</callback>
  <param>
    <name>sample rate</name>
    <key>samp_rate</key>
    <type>int</type>
  </param>
  <param>
    <name>order</name>
    <key>order</key>
    <type>int</type>
  </param>
  <param>
    <name>N of bits</name>
    <key>N</key>
    <type>int</type>
  </param>
  <param>
    <name>C1 for 2nd order filter</name>
    <key>Coeff1_2</key>
    <type>real</type>
  </param>
  <param>
    <name>C2 for 2nd order filter</name>
    <key>Coeff2_2</key>
    <type>real</type>
  </param>
  <param>
    <name>C4 for 2nd order filter</name>
    <key>Coeff4_2</key>
    <type>real</type>
  </param>
  <param>
    <name>C1 for 3rd order filter</name>
    <key>Coeff1_3</key>
    <type>real</type>
  </param>
  <param>
    <name>C2 for 3rd order filter</name>
    <key>Coeff2_3</key>
    <type>real</type>
  </param>
  <param>
    <name>C3 for 3rd order filter</name>
    <key>Coeff3_3</key>
    <type>real</type>
  </param>
  <param>
    <name>Max Freq</name>
    <key>max_freq</key>
    <type>real</type>
  </param>
  <param>
    <name>Min Freq</name>
    <key>min_freq</key>
    <type>real</type>
  </param>

  <check>$Coeff1_2 &gt;= 0 and $Coeff1_2 &lt;= 1</check>
  <check>$Coeff2_2 &gt;= 0 and $Coeff2_2 &lt;= 1</check>
  <check>$Coeff4_2 &gt;= 0 and $Coeff4_2 &lt;= 1</check>
  <check>$Coeff1_3 &gt;= 0 and $Coeff1_3 &lt;= 1</check>
  <check>$Coeff2_3 &gt;= 0 and $Coeff2_3 &lt;= 1</check>
  <check>$Coeff3_3 &gt;= 0 and $Coeff3_3 &lt;= 1</check>
  <check>$order == 2 or $order == 3</check>
  <check>$N &gt;= 1 and $N &lt;= 52</check>

  <sink>
    <name>in</name>
    <type>complex</type>
  </sink>

  <source>
    <name>out</name>
    <type>complex</type>
  </source>

  <source>
    <name>freq</name>
    <type>float</type>
    <optional>1</optional>
  </source>

  <source>
    <name>phase error</name>
    <type>float</type>
    <optional>1</optional>
  </source>

  <source>
    <name>phase accumulator</name>
    <type>s64</type>
    <optional>1</optional>
  </source>

  </block>
